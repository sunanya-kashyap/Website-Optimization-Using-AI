{% extends 'base/master.html' %}

{% block css %}
<style>
    /* Your existing CSS goes here */

    /* Add some styles for the new elements */
    .table-container {
        margin-bottom: 20px;
    }

    .table-container table {
        width: 100%;
        border-collapse: collapse;
    }

    .table-container th,
    .table-container td {
        border: 1px solid #ccc;
        padding: 10px;
        text-align: left;
    }
</style>
{% endblock css %}

{% block content %}
<div class="container mt-5">
    <header>
    <h1><strong>Dashboard</strong></h1>
    </header>
    <div class="table-container mt-2">
        <div class="row mb-5">
            <div class="row mt-5">


                {% for item in websites %}
                <div class="col-md-6">
                    <div class="card mb-3">
                        <div class="card-body">
                            <h3 class="card-title">
                                <i class="fas fa-link"></i>
                                {{item.name}}
                            </h3>
                            <div class="card-text text-black">
                                <i class="fas fa-globe"></i>
                                {{item.url}}
                            </div>
                            <div class="d-flex gap-2 justify-content-end ">
                                <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal{{item.id}}">
                                    Delete
                                </button>
                                <a href="{% url 'optimized' item.id %}" class="btn btn-dark">
                                    optimized website content
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Delete Confirmation Modal -->
                <div class="modal fade" id="deleteModal{{item.id}}" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="deleteModalLabel">Confirm Delete</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body">
                        Are you sure you want to delete this item?
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <a class="btn btn-danger" href="{% url 'delete_website' item.id %}">Delete</a>
                      </div>
                    </div>
                  </div>
                </div>
                {% empty %}
                
                {% endfor %}
                
                </div>
                </div>
                </div>
                </div>
                {% endblock content %}